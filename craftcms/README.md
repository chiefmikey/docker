# **CraftCMS**

This Alpine-based image runs Apache 2 serving a clean CraftCMS installation with
PHP 8 using PHP-FPM.

_This image requires minimal configuration to launch and successfully render the
CraftCMS admin installation page._

[Available on Docker Hub](https://hub.docker.com/r/chiefmikey/craftcms)

## **Getting Started**

Run the container exposing `port 3000` where Apache is set to listen for
connections. Allow the startup script to install dependencies and set
permissions.

A .env file is included in the `/craft` directory and includes an `APP_ID` and
`SECURITY_KEY`. Both are auto generated by CraftCMS on first startup but they
can be updated with preexisting keys or regenerated with the following commands:

```shell
php craft setup/app-id
php craft setup/security-key
```

- Database configuration can be prepared in the .env file or it will be
  populated as part of the final CraftCMS client installation.

- The `license.key` file located in the `/config` directory will be populated as
  part of the final CraftCMS client installation as well.

Navigate to the CraftCMS admin page (ex. http://localhost:3000/admin) and follow
the prompts until installation is complete.

## Examples

Dockerfile

```shell
cd craftcms
docker build -t NAME/TAG:VERSION .
docker run -d -p 3000:3000 NAME/TAG:VERSION
```

docker-compose.yaml

```js
services:
  api:
    image: chiefmikey/craftcms:latest
    volumes:
      - .env:/craft/.env:ro
      - license.key:/craft/config/license.key:ro
      - composer.json:/craft/composer.json:ro
    ports:
      - "3000:3000"
```
